# Smithery configuration file: https://smithery.ai/docs/config#smitheryyaml

build:
  dockerfile: Dockerfile
  dockerBuildPath: .
startCommand:
  type: stdio
  configSchema:
    # JSON Schema defining the configuration options for the MCP.
    type: object
    required:
      - synoHost
      - synoUser
      - synoPass
    properties:
      synoHost:
        type: string
        description: Synology NAS 호스트 주소 (IP 또는 도메인명)
      synoPass:
        type: string
        description: Synology NAS 로그인 비밀번호
      synoPort:
        type: number
        default: 5000
        description: "Synology NAS 포트 (기본값: 5000)"
      synoUser:
        type: string
        description: Synology NAS 로그인 사용자명
  commandFunction:
    # A JS function that produces the CLI command based on the given config to start the MCP on stdio.
    |-
    (config) => ({
      "command": "node",
      "args": [
        "dist/index.js"
      ],
      "env": {
        "SYNO_HOST": config.synoHost,
        "SYNO_PORT": config.synoPort?.toString() || "5000",
        "SYNO_USER": config.synoUser,
        "SYNO_PASS": config.synoPass
      }
    })
